(this["webpackJsonpbooks-app-frontend"]=this["webpackJsonpbooks-app-frontend"]||[]).push([[0],{123:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(26),c=r.n(a),o=(r(97),r(18)),s=r(12),i=r(170),u=r(165),d=r(164),l=r(169),b=r(25),p=r(15),j=r.n(p),f=r(22),O=r(44),h=r.n(O),x="/api/books",v=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(x);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(x,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(x,"/").concat(t),r);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(x,"/").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g={getAll:v,createBook:k,updateBook:m,deleteBook:w},y="FETCH_BOOKS",_="NEW_BOOK",B="UPDATE_BOOK",T="DELETE_BOOK",E="SET_CURRENT_BOOK",C="RESET_CURRENT_BOOK",R="FETCH_NOTIFICATION",I="SET_NOTIFICATION",A="REMOVE_NOTIFICATION",D=function(e){return{type:I,data:e}},N=function(){return{type:A}},S=function(e){return function(t){t({type:E,data:e})}},F=function(){return function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:C});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=r(32),K=r(158),q=r(168),M=r(2),U=function(){var e=Object(b.c)((function(e){return e.book.currentBook})),t=Object(b.b)(),r=Object(n.useState)(!1),a=Object(s.a)(r,2),c=a[0],p=a[1],O=Object(z.a)(),h=Object(K.a)(O.breakpoints.down("md")),x=function(){var t=!0;return e.title||(t=!1,p(!0)),e.author||(t=!1,p(!0)),t};return Object(M.jsxs)(q.a,{item:!0,xs:h?12:6,p:1,children:[Object(M.jsx)("h3",{children:"Create new book or edit one from book list"}),Object(M.jsxs)(i.a,{component:"form",sx:{"& .MuiTextField-root":{m:"10px auto 10px auto",width:"100%"},"& .MuiButton-root":{},"& .textarea":{m:"10px auto 10px auto",width:"100%"}},noValidate:!0,autoComplete:"off",children:[Object(M.jsx)("div",{children:Object(M.jsx)(u.a,{required:!0,error:c&&!e.title,label:"Title",id:"outlined-size-small",value:e.title||"",onChange:function(r){p(!1),t(S(Object(o.a)(Object(o.a)({},e),{},{title:r.target.value})))},size:"small",helperText:c&&!e.title?"Title is required":""})}),Object(M.jsx)("div",{children:Object(M.jsx)(u.a,{required:!0,error:c&&!e.author,label:"Author",id:"outlined-size-small",name:"author",value:e.author||"",onChange:function(r){p(!1),t(S(Object(o.a)(Object(o.a)({},e),{},{author:r.target.value})))},size:"small",helperText:c&&!e.author?"Author is required":""})}),Object(M.jsx)("div",{children:Object(M.jsx)(u.a,{label:"Description",id:"outlined-size-small",name:"description",multiline:!0,minRows:3,value:e.description||"",onChange:function(r){return t(S(Object(o.a)(Object(o.a)({},e),{},{description:r.target.value})))},size:"small"})}),Object(M.jsx)("div",{children:Object(M.jsxs)(d.a,{direction:"row",spacing:1,mt:1,children:[Object(M.jsx)(l.a,{variant:"contained",color:"success",onClick:function(){var r;x()&&(t((r=e,function(){var e=Object(f.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.createBook(r);case 3:n=e.sent,t({type:_,data:n}),a='Book with title "'.concat(n.title,'" added successfully!'),t(D({message:a,success:!0,error:!1})),setTimeout(Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N());case 2:case"end":return e.stop()}}),e)}))),5e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),t(F()))},disabled:!!e._id,children:"Save new"}),Object(M.jsx)(l.a,{variant:"contained",onClick:function(){var r,n;e._id&&x()&&(t((r=e._id,n=e,function(){var e=Object(f.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.updateBook(r,n);case 3:a=e.sent,t({type:B,data:a}),c='Book with title "'.concat(a.title,'" updated successfully!'),t(D({message:c,success:!0,error:!1})),setTimeout(Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N());case 2:case"end":return e.stop()}}),e)}))),5e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),t(F()))},disabled:!e._id,children:"Save"}),Object(M.jsx)(l.a,{variant:"contained",color:"error",onClick:function(){var r;e._id&&(t((r=e._id,function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.deleteBook(r);case 3:t({type:T,data:r}),t(D({message:"Book deleted successfully!",success:!0,error:!1})),setTimeout(Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(N());case 2:case"end":return e.stop()}}),e)}))),5e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),t(F()))},disabled:!e._id,children:"Delete"}),Object(M.jsx)(l.a,{variant:"outlined",onClick:function(){t(F())},disabled:!e._id,children:"Reset fields"})]})})]})]})},H=r(171),J=r(172),L=r(167),V=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),r=t[0],a=t[1],c=Object(b.c)((function(e){return e.book.books})),o=Object(z.a)(),u=Object(K.a)(o.breakpoints.down("md")),d=Object(b.b)();Object(n.useEffect)((function(){d(function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getAll();case 3:r=e.sent,t({type:y,data:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[d]);return Object(M.jsxs)(q.a,{className:"gridItem",item:!0,xs:u?12:6,p:1,children:[Object(M.jsx)("h3",{style:{textAlign:"center",marginBottom:27},children:"Book list"}),Object(M.jsx)(i.a,{sx:{width:"100%",bgcolor:"background.paper",border:"1px solid #E0E0E0",borderRadius:"5px"},children:Object(M.jsx)(H.a,{component:"nav","aria-label":"main mailbox folders",children:c&&c.map((function(e){return Object(M.jsxs)(J.a,{selected:r===e._id,onClick:function(){return function(e,t){a(e),d(S(t))}(e._id,e)},children:[Object(M.jsx)(L.a,{style:{width:"50%"},primary:e.title}),Object(M.jsx)(L.a,{style:{width:"50%"},secondary:e.author})]},e._id)}))})})]})},W={color:"green",border:"1px solid green",background:"#DEF1DD",borderRadius:5},P={color:"#731C23",border:"1px solid #731C23",background:"#F8D7D9",borderRadius:5},G=function(){var e=Object(b.c)((function(e){return e.notification})),t=Object(b.b)(),r=Object(z.a)(),a=Object(K.a)(r.breakpoints.down("md"));return Object(n.useEffect)((function(){t({type:R})}),[t]),Object(M.jsx)(q.a,{container:!0,p:1,children:e.message&&Object(M.jsx)(q.a,{item:!0,xs:a?12:6,p:1,children:Object(M.jsx)(i.a,{p:1.3,style:e.success?W:P,children:e.message})})})},Q=function(){return Object(M.jsxs)(i.a,{sx:{width:"100%"},children:[Object(M.jsx)("h1",{style:{marginLeft:16},children:"Books App"}),Object(M.jsx)(G,{}),Object(M.jsxs)(q.a,{container:!0,p:1,children:[Object(M.jsx)(U,{}),Object(M.jsx)(V,{})]})]})},X=r(43),Y=r(14),Z={title:"",author:"",description:""},$={currentBook:Z,books:[]},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(o.a)(Object(o.a)({},e),{},{books:t.data});case _:return Object(o.a)(Object(o.a)({},e),{},{books:[].concat(Object(Y.a)(e.books),[t.data])});case B:return Object(o.a)(Object(o.a)({},e),{},{books:e.books.map((function(e){return e._id!==t.data._id?e:t.data}))});case T:return Object(o.a)(Object(o.a)({},e),{},{books:e.books.filter((function(e){return e._id!==t.data}))});case E:return Object(o.a)(Object(o.a)({},e),{},{currentBook:t.data});case C:return Object(o.a)(Object(o.a)({},e),{},{currentBook:Z});default:return e}},te=r(79),re=r(80),ne={message:"",success:!1,error:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return e;case I:return t.data;case A:return ne;default:return e}},ce=Object(X.combineReducers)({book:ee,notification:ae}),oe=Object(X.createStore)(ce,Object(te.composeWithDevTools)(Object(X.applyMiddleware)(re.a)));c.a.render(Object(M.jsx)(b.a,{store:oe,children:Object(M.jsx)(Q,{})}),document.getElementById("root"))},97:function(e,t,r){}},[[123,1,2]]]);
//# sourceMappingURL=main.80e5904a.chunk.js.map